<div class="loading" *ngIf="!category">
    <!-- Esto es para simular una pantalla de carga miestras cogemos todas las publicaciones -->
    <p>Cargando publicaciones…</p>
</div>

<div class="container-fluid pb-3" *ngIf="category">

    <h1> {{page_title}} </h1>
    <hr />


    <div class="loading" *ngIf="!posts">
        <!-- Esto es para simular una pantalla de carga miestras cogemos todas las publicaciones -->
        <p>Cargando listado…</p>
    </div>

    <div class="alert alert-warning" *ngIf="posts && posts.length ==0">
        <!-- Este mensaje aparecerá si no hay publicaciones en esta categoría -->
        No hay entradas en esta categoría
    </div>
    <div class="card-columns mt-3 " *ngIf="posts && posts.length >=1">
        <article class="card w-100 mt-2 contenedor_publicacion" *ngFor="let post of posts">    <!-- Hacemos un bucle de posts mostrando por cada entrada una tarjeta -->
            <div class="card-header">
                <h3>
                    <a [routerLink]="['/entrada',post.id]"> {{post.title}}</a>
                </h3>
            </div>

            <div class="card-body">
                <!-- Imagen -->
                <div class="post-image w-100 column d-flex align-content-center justify-content-center pt-1 pb-1">
                    <img src="assets/images/image-default.jpg" class="card-img rounded h-100 w-auto" alt="Imagen nula"
                        *ngIf="!post.image" />
                    <img src="{{ api_url + 'post/image/' + post.image }}" class="card-img rounded h-100 w-auto"
                        alt="Imagen de la publicación {{post.title}}" *ngIf="post.image" />
                </div>

                <!-- Botones de acción -->
                <div class="post-buttons d-flex row flex-wrap align-content-center justify-content-around pl-1 pr-1">
                    <a [routerLink]="['/entrada',post.id]" class="btn btn-success w-25">Leer</a>

                    <a [routerLink]="['/editar-entrada',post.id]" class="btn btn-info w-25" *ngIf="identity && post.user_id == identity.sub">Editar</a>
                   <!-- <a (click)="deletePost(post.id)" class="btn btn-danger w-25" *ngIf="identity && post.user_id == identity.sub">Borrar</a> -->
                   
              <!--Botor de borrar-->     
              <button class="btn btn-danger w-25" (click)="open('focusFirst')">
                <div>Borrar</div>
              </button>

                <button type="button" ngbAutofocus class="btn btn-danger" (click)="modal.close('Ok click')">Ok</button>



















           <!--Fin de Botor de borrar-->    

                </div>
            </div>

        </article>
    </div>


</div>

<!-- [atr.adata-tardet]="'#myModal'+post.id" -->